---
title: Gitでローカルファイルのバックアップ
author: hylom
type: post
date: 2009-04-14T06:31:31+00:00
url: /2009/04/14/20090414_git/
categories:
  - Docs
tags:
  - develop
  - git
  - tips

---
　Gitでローカルファイルの差分バックアップをやってみるテスト。

前提：

  * ミラーリングされているファイルサーバーがある 
  * いままでは作業用PCがクラッシュしても大丈夫なように、作業後にいちいちファイルをファイルサーバー中のディレクトリに上書きコピーしていた 
  * ファイル数が多くなる/容量が大きくなると面倒 
  * これだと履歴管理ができない（Emacsの~.1のようなバックアップファイルに頼ることに） 

　ということで、下記の手順でGitで差分バックアップをやってみる。

  1. 作業ディレクトリをgitリポジトリ化する。 
    <pre>$ git init
$ git add ＜対象ファイル＞
$ git commit -m "＜コメント＞"
  </pre>

  2. ファイルサーバーにgitのbareリポジトリを作る 
    <pre>$ cd ＜バックアップディレクトリ＞
$ mkdir ＜適当なディレクトリ名＞.git
$ cd ＜ディレクトリ名＞.git
$ git init --bare
  </pre>

  3. ファイルサーバー内のbareリポジトリにコミット 
    <pre>$ cd ＜作業ディレクトリ＞
$ git remote add origin ＜ファイルサーバー上のbareリポジトリのパス＞
$ git push master:master
  </pre>

　あとは作業が一段落したタイミングごとにコミット＋pushをしていけばいいだけのはず。しかしこういう目的で使い出すとWindows上で動く、使いやすいGUIフロントエンドがほしくなるところではある。
