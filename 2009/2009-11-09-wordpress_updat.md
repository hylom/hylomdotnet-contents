---
title: WordPressのアップデートメモ
author: hylom
type: post
date: 2009-11-09T14:31:16+00:00
excerpt: 　Wordpressの新バージョン（2.8.5）が出ていたので、アップデートしてみた。管理画面から「自動アップデート」なるものが実行できるらしいんだけど、謎のログイン（笑）が要求されたので、tarballからのアップデートを試みてみました。
url: /2009/11/09/wordpress_updat/
categories:
  - Docs
tags:
  - wordpress

---
　Wordpressの新バージョン（2.8.5）が出ていたので、アップデートしてみた。管理画面から「自動アップデート」なるものが実行できるらしいんだけど、謎のログイン（笑）が要求されたので、tarballからのアップデートを試みてみました。

　といっても、スクリプトを書いてほぼ一発。

<pre class="code_bash">#!/bin/bash
old=$1
new=$2

if [ "$2" == "" ]
then
    echo "$0 &lt;old&gt; &lt;new&gt;"
    exit
fi

cp -a $old ${old}.org
rsync -av $new/ $old/</pre>

　第1引数に旧バージョンのWordpressのディレクトリ、第2引数にダウンロードしてきたWordpressのアーカイブを展開したディレクトリを与えて実行。やってることは旧バージョンのディレクトリをバックアップしたうえで、新バージョンのファイルをそこに上書きするだけ。

　とりあえずこいつで問題無し。あ、一応念のため、実行前にはデータベース等のバックアップはしておきましょう。ちなみにうちの環境はsqliteを使っているので、ディレクトリの全コピーでバックアップ完了というお手軽作業。